{"version":3,"file":"chunks/11869.ddb20eff8b832524ac93.min.js","mappings":"kNAGO,MAAMA,EAAUA,IACZC,EAAAA,KAAKC,OAAO,CACfC,KAAM,kBAENC,aACI,MAAO,CACHC,eAAgB,CACZC,MAAO,mBAGnB,EAEAC,MAAO,QACPC,WAAW,EACXC,YAAY,EAEZC,YACI,MAAO,CACH,CACIC,IAAK,IACLC,SAAWC,GAASA,EAAKC,QAAQ,qBAAuB,MAGpE,EAEAC,WAAUC,GAAqB,IAApB,eAAEX,GAAgBW,EACzB,MAAO,CACH,KACAC,EAAAA,EAAAA,iBAAgBC,KAAKC,QAAQd,eAAgBA,GAC7C,IAER,EAEAe,wBACI,MAAO,CACH,IAAIC,EAAAA,GAAO,CACPC,kBAAkBC,EAAaC,GAC3B,IAAIC,GAAS,EACb,MAAMC,EAAe,GAiBrB,OAhBAH,EAAYI,MAAMC,SAAQ,CAACC,EAAMC,KACT,YAAhBD,EAAKE,QACLL,EAAaM,KAAKF,EACtB,IAGJJ,EAAaE,SAASE,IAClB,MAAMG,EAAMV,EAAYW,QAAQC,KAAKL,GAC/BM,EAAWH,EAAII,OAAO,GACtBC,EAASL,EAAII,OAAO,GAAKJ,EAAII,OAAO,GAC1Cb,EAAMe,IAAIC,aAAaJ,EAAUE,GAASzB,IACf,oBAAnBA,EAAK4B,KAAKtC,OACVsB,GAAS,EACb,GACF,IAECA,CACX,IAGZ,G","sources":["webpack://@patternslib/patternslib/./node_modules/@patternslib/pat-tiptap/src/extensions/fixed-paragraph.js"],"sourcesContent":["import { Node, mergeAttributes } from \"@tiptap/core\";\nimport { Plugin } from \"prosemirror-state\";\n\nexport const factory = () => {\n    return Node.create({\n        name: \"fixed-paragraph\",\n\n        addOptions() {\n            return {\n                HTMLAttributes: {\n                    class: \"fixed-paragraph\",\n                },\n            };\n        },\n\n        group: \"block\",\n        isolating: true,\n        selectable: true,\n\n        parseHTML() {\n            return [\n                {\n                    tag: \"p\",\n                    getAttrs: (node) => node.matches(\".fixed-paragraph\") && null,\n                },\n            ];\n        },\n\n        renderHTML({ HTMLAttributes }) {\n            return [\n                \"p\",\n                mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n                \" \", // Add a space to the end of the paragraph to make it selectable\n            ];\n        },\n\n        addProseMirrorPlugins() {\n            return [\n                new Plugin({\n                    filterTransaction(transaction, state) {\n                        let result = true; // true for keep, false for stop transaction\n                        const replaceSteps = [];\n                        transaction.steps.forEach((step, index) => {\n                            if (step.jsonID === \"replace\") {\n                                replaceSteps.push(index);\n                            }\n                        });\n\n                        replaceSteps.forEach((index) => {\n                            const map = transaction.mapping.maps[index];\n                            const oldStart = map.ranges[0];\n                            const oldEnd = map.ranges[0] + map.ranges[1];\n                            state.doc.nodesBetween(oldStart, oldEnd, (node) => {\n                                if (node.type.name === \"fixed-paragraph\") {\n                                    result = false;\n                                }\n                            });\n                        });\n                        return result;\n                    },\n                }),\n            ];\n        },\n    });\n};\n"],"names":["factory","Node","create","name","addOptions","HTMLAttributes","class","group","isolating","selectable","parseHTML","tag","getAttrs","node","matches","renderHTML","_ref","mergeAttributes","this","options","addProseMirrorPlugins","Plugin","filterTransaction","transaction","state","result","replaceSteps","steps","forEach","step","index","jsonID","push","map","mapping","maps","oldStart","ranges","oldEnd","doc","nodesBetween","type"],"sourceRoot":""}