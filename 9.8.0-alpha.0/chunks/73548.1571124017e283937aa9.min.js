/*! @patternslib/patternslib 9.7.0 */
(self.webpackChunkploneintranet_patterns=self.webpackChunkploneintranet_patterns||[]).push([[73548],{73548:function(){function t(o){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(o)}var o;(o=Redactor).add("plugin","imagemanager",{translations:{en:{choose:"Choose"}},init:function(t){this.app=t,this.lang=t.lang,this.opts=t.opts},onmodal:{image:{open:function(t,o){this.opts.imageManagerJson&&this._load(t)}}},_load:function(t){var a=t.getBody();this.$box=o.dom("<div>"),this.$box.attr("data-title",this.lang.get("choose")),this.$box.addClass("redactor-modal-tab"),this.$box.hide(),this.$box.css({overflow:"auto",height:"300px","line-height":1}),a.append(this.$box),o.ajax.get({url:this.opts.imageManagerJson,success:this._parse.bind(this)})},_parse:function(a){for(var e in a){var n=a[e];if("object"===t(n)){var i=o.dom("<img>"),s=n.thumb?n.thumb:n.url;i.attr("src",s),i.attr("data-params",encodeURI(JSON.stringify(n))),i.css({width:"96px",height:"72px",margin:"0 4px 2px 0",cursor:"pointer"}),i.on("click",this._insert.bind(this)),this.$box.append(i)}}},_insert:function(t){t.preventDefault();var a=o.dom(t.target),e=JSON.parse(decodeURI(a.attr("data-params")));this.app.api("module.image.insert",{image:e})}})}}]);
//# sourceMappingURL=73548.1571124017e283937aa9.min.js.map