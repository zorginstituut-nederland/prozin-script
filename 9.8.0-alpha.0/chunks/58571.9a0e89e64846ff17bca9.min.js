/*! @patternslib/patternslib 9.7.0 */
(self.webpackChunkploneintranet_patterns=self.webpackChunkploneintranet_patterns||[]).push([[58571],{58571:function(){function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}var n;(n=Redactor).add("plugin","definedlinks",{init:function(t){this.app=t,this.opts=t.opts,this.component=t.component,this.links=[]},onmodal:{link:{open:function(t,n){this.opts.definedlinks&&(this.$modal=t,this.$form=n,this._load())}}},_load:function(){"object"===t(this.opts.definedlinks)?this._build(this.opts.definedlinks):n.ajax.get({url:this.opts.definedlinks,success:this._build.bind(this)})},_build:function(i){if(0===(s=this.$modal.find("#redactor-defined-links")).length){var e=this.$modal.getBody(),o=n.dom('<div class="form-item" />'),s=n.dom('<select id="redactor-defined-links" />');o.append(s),e.prepend(o)}for(var l in this.links=[],s.html(""),s.off("change"),i)if(i.hasOwnProperty(l)&&"object"===t(i[l])){this.links[l]=i[l];var d=n.dom("<option>");d.val(l),d.html(i[l].name),s.append(d)}s.on("change",this._select.bind(this))},_select:function(t){var i=this.$form.getData(),e=n.dom(t.target).val(),o={text:"",url:""};"0"!==e&&(o.text=this.links[e].name,o.url=this.links[e].url),""!==i.text&&(o={url:o.url}),this.$form.setData(o)}})}}]);
//# sourceMappingURL=58571.9a0e89e64846ff17bca9.min.js.map