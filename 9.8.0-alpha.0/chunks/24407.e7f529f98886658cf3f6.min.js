/*! @patternslib/patternslib 9.7.0 */
(self.webpackChunkploneintranet_patterns=self.webpackChunkploneintranet_patterns||[]).push([[24407],{24407:function(){Redactor.add("plugin","textexpander",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.editor=e.editor,this.marker=e.marker,this.keycodes=e.keycodes,this.selection=e.selection},start:function(){this.opts.textexpander&&this.editor.getElement().on("keyup.redactor-plugin-textexpander",this._expand.bind(this))},stop:function(){this.editor.getElement().off(".redactor-plugin-textexpander")},_expand:function(e){if(e.which===this.keycodes.SPACE)for(var t=this.opts.textexpander.length,n=0;n<t;n++){var i=this.opts.textexpander[n],s=new RegExp(this.utils.escapeRegExp(i[0])+"\\s$"),r=this.selection.getTextBeforeCaret(i[0].length+1).replace(/\s$/,"");if(i[0]===r)return this._replaceSelection(s,i[1])}},_replaceSelection:function(e,t){var n=this.marker.insert("start").previousSibling,i=n.textContent;i=(i=i.replace(/&nbsp;/," ")).replace(e,t),n.textContent=i,this.selection.restoreMarkers()}})}}]);
//# sourceMappingURL=24407.e7f529f98886658cf3f6.min.js.map